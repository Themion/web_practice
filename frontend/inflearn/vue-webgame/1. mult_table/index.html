<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
  <title>구구단</title>
</head>
<body>
    <div id="root">
      <div>{{first}} * {{second}} = ?</div>
      <form v-on:submit="onSubmit">
        <input ref="answer" type="number" v-model="value">
        <button>입력</button>
      </form>
      <div>{{result}}</div>
    </div>
  <script>
    const app = new Vue({
        el: "#root",
        data: {
          first: 0,
          second: 0,
          value: '',
          result: ''
        },
        methods: {
          init() {
            this.first = Math.ceil(Math.random() * 9),
            this.second = Math.ceil(Math.random() * 9),
            this.value = '',
            this.result = ''

            this.$refs.answer.focus()
          },
          // arrow function 시 this 관련해서 에러 발생
          onSubmit(e) {
            e.preventDefault();
            this.result = (this.first * this.second === parseInt(this.value)) ? "정답" : "오답"
            setTimeout(this.init, 1000)
          }
        },
    })
    app.init()
  </script>
</body>
</html>